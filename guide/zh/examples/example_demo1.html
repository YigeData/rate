<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Rate</title>
    <style>
        html,
        body {
            padding: 0;
            margin: 0;
            width: 100%;
            height: 100%;
        }
    </style>
    <script src="../../../../lib/ht.js"></script>
    <script src="../../../../lib/ht-ui.js"></script>
    <script src="../../../lib/ht-ui-rate.js"></script>
    <script>        
        function init() {
            hbox = new ht.ui.HBoxLayout(),
            rate = new ht.ui.Rate(),
            label = new ht.ui.Label();

            rate.setMax(6);
            rate.setIconWidth(20);
            rate.setIconHeight(20);
            rate.setIconGap(10);

            rate.on('p:hoverValue', function(e) {
                label.setText(e.newValue);
                if (!e.newValue) {
                    var value = rate.getValue();
                    if (value === 0) {
                        label.setText();
                    }
                    else {
                        label.setText(value);
                    }
                }
            });

            label.setTextColor('#fff');
            label.setAlign('center');
            label.setBackground(new ht.ui.drawable.ColorDrawable('rgb(52, 152, 219)', 5));

            hbox.setBorder(new ht.ui.border.LineBorder(1, ht.ui.uiTheme.baseColor));
            hbox.setPadding(20);
            hbox.addView(rate, {
                width: 'wrap_content',
                height: 'wrap_content',
                vAlign: 'middle'
            });
            hbox.addView(label, {
                width: 50,
                height: 'wrap_content',
                vAlign: 'middle'
            });

            var preferredSize = hbox.getPreferredSize();
            hbox.addToDOM(window, { x: 10, y: 10, width: preferredSize.width, height: preferredSize.height });
        }
    </script>
</head>

<body onload="init();">

</body>

</html>