<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Rate</title>
    <style>
        html,
        body {
            padding: 0;
            margin: 0;
            width: 100%;
            height: 100%;
        }
    </style>
    <script src="../../../../lib/ht.js"></script>
    <script src="../../../../lib/ht-ui.js"></script>
    <script src="../../../lib/ht-ui-rate.js"></script>
    <script>        
        function init() {
            rate = new ht.ui.Rate();
            rate.setPadding(10);
            rate.setReadOnly(true);
            rate.setValue(3.5);
            rate.setIconGap(10);
            rate.setBackground(new ht.ui.drawable.ImageDrawable('../../../img/yk.jpg', 'fill'));
            rate.setUncheckedColors('rgb(247,247,247)');
            rate.setColors('rgb(250,237,60)');

            vbox = new ht.ui.VBoxLayout();
            title = new ht.ui.Label();
            title.setText('星级占比');
            title.setTextFont('15px Arial');
            vbox.addView(title, {align: 'center', marginBottom: 10});
            for(var i = 5; i > 0; i--) {
                var hbox = new ht.ui.HBoxLayout(),
                    label = new ht.ui.Label(),
                    progressBar = new ht.ui.ProgressBar();
                label.setText(i + ' 星');
                hbox.addView(label);
                progressBar.setSelectBar(rate.getColors());
                progressBar.setValue(100 / 15 * i);
                progressBar.setPercentTextVisible(true);
                hbox.addView(progressBar, {marginLeft: 10});
                vbox.addView(hbox); 
            }

            popover = new ht.ui.Popover();
            popover.setContentView(vbox);
            rate.setPopover(popover);

            var preferredSize = rate.getPreferredSize();
            rate.addToDOM(window, {x: 10, y: 10, width: preferredSize.width, height: preferredSize.height});
        }
    </script>
</head>

<body onload="init();">

</body>

</html>